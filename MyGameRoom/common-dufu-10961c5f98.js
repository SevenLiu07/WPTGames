window.PLAY=window.PLAY||{};var http_type=location.protocol+"//",lHost=window.location.host,getHost=lHost.substring(4);PLAY.baseUrl=http_type+location.host+"/",PLAY.staticUrl=http_type+"static.play-wpt.com/",PLAY.webApiUrl=http_type+"napi."+getHost+"/",PLAY.leaderBoardUrl=http_type+"napi."+getHost+"/",PLAY.shopUrl=http_type+"napi."+getHost+"/",PLAY.indexUrl=PLAY.baseUrl,PLAY.pokerUrl=PLAY.baseUrl+"poker",PLAY.gameSlotUrl=PLAY.baseUrl+"game_slot.html",PLAY.pokerUrlNoVersion=PLAY.baseUrl+"poker",PLAY.ajax={},PLAY.ajax.request=function(e,t){var r=t.url,n=t.contentType||"application/x-www-form-urlencoded",a="application/json"==n?JSON.stringify(t.data):t.data,i=!1!==t.async,o=t.cache||!1,s=t.timeout||3e4,c=t.dataType||"text",l=(t.noStatusCheck,t.has,t.hasnot,t.sucTip,t.failTip,t.errTip,t.success),u=t.fail,d=t.error,p=t.showLoading||!1,f=t.xhrFields||{withCredentials:!0},h=t.crossDomain||!0,P=t.$loading||$("#loading");return p&&P.length&&P.show(),$.ajax({url:r,data:a,async:i,type:e,timeout:s,cache:o,traditional:!0,contentType:n,dataType:c,xhrFields:f,crossDomain:h,success:function(e,t,r){P.length&&P.hide(),"string"==typeof e&&(e=JSON.parse(e)),e&&1===e.State?l&&l.call(this,a,e):u&&u.call(this,a,e)},error:function(e,t,r){P.length&&P.hide(),d&&d.call(this,t,r)}})},PLAY.ajax.Get=function(e){return PLAY.ajax.request("GET",e)},PLAY.ajax.Post=function(e){return PLAY.ajax.request("POST",e)},PLAY.url={},PLAY.url.getQuery=function(){var e,t=window.location.search.substr(1).split("&"),r={};for(e=0;e<t.length;e++)aParamArr=t[e].split("="),aParamArr[0].length&&(r[aParamArr[0]]=decodeURIComponent(aParamArr[1]));return r},PLAY.scaleDialog=function(){$(window).width()<=1445&&$(".widget-dialog").css("transform","scale(0.7)"),PLAY.resizeWin()},PLAY.resetScaleDialog=function(){$(window).width()<=1445&&$(".widget-dialog").css("transform","scale(1)"),PLAY.resizeWin()},PLAY.resizeWin=function(){$(window).resize(function(){$(window).width()<=1445?$(".widget-dialog").css("transform","scale(0.7)"):$(".widget-dialog").css("transform","scale(1)")})},PLAY.parseDate=function(e){var t,r=/^\s*(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d):(\d\d)Z\s*$/,n=new Date(NaN),a=r.exec(e);return a&&(t=+a[2],n.setFullYear(a[1],t-1,a[3]),n.setHours(a[4],a[5],a[6]),t!=n.getMonth()+1&&n.setTime(NaN)),n},-1!==location.href.indexOf("new_vote.html")||-1!==location.href.indexOf("vote_end.html")||PLAY.userInfo||PLAY.ajax.Get({url:PLAY.webApiUrl+"WebAPI/Passport/GetLoginUserInfo",async:!1,success:function(e,t){t&&(PLAY.userInfo=t)},fail:function(e,t){},error:function(e,t){}}),PLAY.cookie=function(e,t,r){if(void 0===t){var n=null;if(document.cookie&&""!=document.cookie)for(var a=document.cookie.split(";"),i=0;i<a.length;i++){var o=$.trim(a[i]);if(o.substring(0,e.length+1)==e+"="){n=decodeURIComponent(o.substring(e.length+1));break}}return n}r||(r={}),null===t&&(t="",r.expires=-1);var s="";if(r.expires&&("number"==typeof r.expires||r.expires.toUTCString)){var c;"number"==typeof r.expires?(c=new Date,c.setTime(c.getTime()+24*r.expires*60*60*1e3)):c=r.expires,s="; expires="+c.toUTCString()}var l=r.path?"; path="+r.path:"",u=r.domain?"; domain="+r.domain:"",d=r.secure?"; secure":"";document.cookie=[e,"=",encodeURIComponent(t),s,l,u,d].join("")},PLAY.toDecimal=function(e){var t=parseFloat(e);return!isNaN(t)&&(t=Math.round(100*e)/100)},PLAY.toDecimal2=function(e){var t=parseFloat(e);if(isNaN(t))return!1;t=Math.round(100*e)/100;var r=t.toString(),n=r.indexOf(".");for(n<0&&(n=r.length,r+=".");r.length<=n+2;)r+="0";return r},PLAY.thousandsFormat=function(e){var t=parseFloat(e).toFixed(2),r=/(\d{1,3})(?=(\d{3})+(?:\.))/g;return t.replace(r,"$1,")},PLAY.formatScore=function(e){var t=parseInt(e);return!isNaN(t)&&(parseInt(e)==e?(e+"").replace(/\d{1,3}(?=(\d{3})+(\.\d*)?$)/g,"$&,"):(e.toFixed(2)+"").replace(/\d{1,3}(?=(\d{3})+(\.\d*)?$)/g,"$&,"))},PLAY.rsaEncrypto=function(e){if(!e)return!1;setMaxDigits(131);var t=null,r=PLAY.cookie("cryptowpt");if(r&&3==r.split(":").length){var n=new RSAKeyPair(r.split(":")[2],"",r.split(":")[1],1024);t=encryptedString(n,base64encode(strUnicode2Ansi(e)),RSAAPP.PKCS1Padding)}return t},PLAY.checkEmail=function(e,t){if(!e)return t("Please enter your email account"),!1;if(e.length<6)return t("Your email account is too short, please input the correct email"),!1;for(var r="abcdefghijklmnopqrstuvwxyz1234567890_ABCDEFGHIJKLMNOPQRSTUVWXYZ.-@",n=0;n<e.length;n++){if(-1==r.indexOf(e.charAt(n)))return t("Sorry, email account cannot consist of symbols except _.-@"),!1;if(0==n){var a=e.charAt(n);if("_"==a||"."==a||"-"==a||"@"==a)return t("Sorry，email account cannot start or end with marks like _ . - @"),!1}if(n==e.length-1){var i=e.charAt(n);if("_"==i||"."==i||"-"==i||"@"==i)return t("Sorry，email account cannot start or end with marks like _ . - @"),!1}}return e.split("@").length>2?(t("Please input a correct email address"),!1):-1==e.indexOf("@")?(t("Please input a correct email address"),!1):-1!=e.indexOf(".")||(t("Please input a correct email address"),!1)},PLAY.checkPassword=function(e,t,r,n){var a=",'\"“”‘ ;";if(!e)return n("Please input 6-16 characters which can be letters, numbers, symbols excluding ,;'"),!1;if(e.length<t)return n("Your password is too short. Please input 6-16 characters which can be letters, numbers, symbols excluding ,;'"),!1;if(PLAY.hasFullshape(e))return n("Please input 6-16 characters which can be letters, numbers, symbols excluding ,;'"),!1;for(var i=0;i<e.length;i++)if(-1!=a.indexOf(e.charAt(i)))return n("Please input 6-16 characters which can be letters, numbers, symbols excluding ,;'"),!1;return!0},PLAY.hasFullshape=function(e){if(!e)return!0;for(var t=/[^\x00-\xff]/g,r=0;r<e.length;r++)if(t.test(e.charAt(r)))return!0;return!1},PLAY.initiaToLowerCase=function(e){e=e.toLowerCase();var t=/\b(\w)|\s(\w)/g;return e.replace(t,function(e){return e.toUpperCase()})},PLAY.getDiffHour=function(e,t){if(!e||!t)return!1;var r=new Date(e).getTime(),n=new Date(t).getTime(),a=parseInt(n-r)/1e3,i=parseInt(a/86400),o=a-24*i*60*60,s=parseInt(o/3600);return i>=1&&(s+=24*i),s},PLAY.getDiffMin=function(e,t){if(!e||!t)return!1;var r=new Date(e),n=new Date(t),a=n.getTime()-r.getTime(),i=(Math.floor(a/864e5),a%864e5),o=(Math.floor(i/36e5),i%36e5),s=Math.floor(o/6e4),c=o%6e4;Math.round(c/1e3);return s};