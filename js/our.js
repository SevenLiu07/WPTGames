!function(e){var t=function(e){return e=+e||0,e=Math[e<0?"ceil":"floor"](e)},n=Object.prototype.toString,r="x"==="x"[0],o=function(e){if(null==e)throw new TypeError("toObject");return r||"string"!=typeof e?Object(e):e.split("")},i="\t\n\v\f\r   ᠎           ​\u2028\u2029  　\ufeff";if(!Object.keys){var a=Object.prototype.hasOwnProperty,s=!{toString:null}.propertyIsEnumerable("toString"),u=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],l=u.length;Object.keys=function(e){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError("Object.keys called on non-object");var t=[];for(var n in e)a.call(e,n)&&t.push(n);if(s)for(var r=0;r<l;){var o=u[r];a.call(e,o)&&t.push(o),r++}return t}}if(!Function.prototype.bind){var c=Array.prototype.slice;Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError("Bind must be called on a function");var n=c.call(arguments,1),r=function(){if(this instanceof r){var o=function(){};o.prototype=t.prototype;var i=new o,a=t.apply(i,n.concat(c.call(arguments)));return Object(a)===a?a:i}return t.apply(e,n.concat(c.call(arguments)))};return r}}if(Array.isArray||(Array.isArray=function(e){return"[object Array]"===n.call(e)}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var n=o(this),r=n.length>>>0;if(!r)return-1;var i=0;for(arguments.length>1&&(i=t(arguments[1]),i<0&&(i=Math.max(0,r+i)));i<r;){if(i in n&&n[i]===e)return i;i++}return-1}),Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(e){var n=o(this),r=n.length>>>0;if(!r)return-1;var i=r-1;for(arguments.length>1&&(i=Math.min(i,t(arguments[1])),i<0&&(i=r+i));i>-1;){if(i in n&&n[i]===e)return i;i--}return-1}),Array.prototype.every||(Array.prototype.every=function(e){var t=o(this),n=arguments[1],r=t.length>>>0;if("function"!=typeof e)throw new TypeError("Array.prototype.every");for(var i=0;i<r;){if(i in t&&!e.call(n,t[i],i,t))return!1;i++}return!0}),Array.prototype.some||(Array.prototype.some=function(e){var t=o(this),n=arguments[1],r=t.length>>>0;if("function"!=typeof e)throw new TypeError("Array.prototype.some");for(var i=0;i<r;){if(i in t&&e.call(n,t[i],i,t))return!0;i++}return!1}),Array.prototype.forEach||(Array.prototype.forEach=function(e){var t=o(this),n=arguments[1],r=t.length>>>0;if("function"!=typeof e)throw new TypeError("Array.prototype.forEach");for(var i=0;i<r;)i in t&&e.call(n,t[i],i,t),i++}),Array.prototype.map||(Array.prototype.map=function(e){var t=o(this),n=arguments[1],r=t.length>>>0;if("function"!=typeof e)throw new TypeError("Array.prototype.map");for(var i=new Array(r),a=0;a<r;)a in t&&(i[a]=e.call(n,t[a],a,t)),a++;return i}),Array.prototype.filter||(Array.prototype.filter=function(e){var t=o(this),n=arguments[1],r=t.length>>>0;if("function"!=typeof e)throw new TypeError("Array.prototype.filter");for(var i,a=[],s=0;s<r;)s in t&&(i=t[s],e.call(n,i,s,t)&&a.push(i)),s++;return a}),!String.prototype.trim||i.trim()){var f=new RegExp("^["+i+"]+"),p=new RegExp("["+i+"]+$");String.prototype.trim=function(){return String(this).replace(f,"").replace(p,"")}}Date.now||(Date.now=function(){return(new Date).getTime()}),String.prototype.repeat=function(e){e=t(e);for(var n="";e--;)n+=this;return n},String.prototype.startsWith=function(e){return 0===this.indexOf(e)},String.prototype.endsWith=function(e){var t=this.lastIndexOf(e);return t>=0&&t===this.length-e.length},String.prototype.contains=function(e){return this.indexOf(e)!==-1},String.prototype.toArray=function(){return this.split("")},Number.isFinite=function(e){return"number"==typeof e&&isFinite(e)},Number.isNaN=function(e){return"number"==typeof e&&isNaN(e)},Number.isInteger=function(e){return Number.isFinite(e)&&Math.floor(e)===e&&e>-9007199254740992&&e<9007199254740992},Number.toInteger=t;var d=/(-|_)+/g,h=/[^A-Z\s]([A-Z])|[A-Z][^A-Z\s]/g,m=function(e){return e.replace(d," ").replace(h,function(e,t){return t?e.charAt(0)+" "+e.charAt(1):" "+e}).clean().split(" ")},g=/YYYY|MM|DD|hh|mm|ss|s|TZD/g,y={};["Boolean","Number","String","Array","Date","RegExp","Error","Math","JSON","Arguments"].forEach(function(e){y["[object "+e+"]"]="object."+e});var v=/^\s+function .+\s+\[native code\]\s+\}\s+$/;e.typeOf=function(e){var t=typeof e;if("function"===t&&"function"==typeof e.item)t="object.Collection";else if("object"===t)if(null===e)t="null";else if(t=y[n.call(e)]||"object.Object","object.Object"===t){var r=String(e);"[object Window]"===r||"[object DOMWindow]"===r?t="object.Global":"[object JSON]"===r?t="object.JSON":v.test(r)?t="function":"nodeType"in e?t="object.Node":"number"==typeof e.length&&("navigator"in e?t="object.Global":"item"in e?t="object.Collection":"callee"in e&&(t="object.Arguments"))}return t},e.execScript||(e.execScript=function(t){e.eval(t)}),Object.forEach=function(e,t,n){Object.keys(e).forEach(function(r){t.call(n,e[r],r,e)})},Object.clone=function(e,t){var n,r=typeOf(e);switch(r){case"undefined":case"boolean":case"number":case"string":case"null":n=e;break;case"object.Boolean":case"object.Number":case"object.String":case"object.Date":case"object.RegExp":n=new e.constructor(e.valueOf());case"object.Array":n||(n=[]);case"object.Object":n||(n={}),Object.forEach(e,function(e,r){n[r]=t?Object.clone(e,!0):e});break;default:throw new TypeError("Object.clone called on no-cloning type: "+r)}return n},Object.mixin=function(e,t,n){var r=Object.keys(t);if(n){var o=n.whiteList,i=n.blackList;o&&(r=r.filter(function(e){return o.contains(e)})),i&&(r=r.filter(function(e){return!i.contains(e)}))}return r.forEach(function(n){e[n]=t[n]}),e},Object.toQueryString=function(e,t){var n=[],r=function(e,r){null!=r&&n.push(t?e+"="+r:encodeURIComponent(e)+"="+encodeURIComponent(r))};return Object.forEach(e,function(e,t){Array.isArray(e)?e.forEach(function(e){r(t,e)}):r(t,e)}),n.join("&")},Object.fromQueryString=function(e,t){var n={};return e.split("&").forEach(function(e){var r=e.split("="),o=r[0],i=r[1];void 0!==i&&(t||(o=decodeURIComponent(o),i=decodeURIComponent(i)),n.hasOwnProperty(o)?"string"==typeof n[o]?n[o]=[n[o],i]:n[o].push(i):n[o]=i)}),n},Array.from=function(e){if(null==e)return[];if(Array.isArray(e))return e;if("function"==typeof e.toArray)return e.toArray();switch(typeOf(e)){case"object.Arguments":case"object.Collection":case"object.Object":var t=0,n=e.length;if("number"==typeof n){for(var r=[];t<n;)e.hasOwnProperty&&!e.hasOwnProperty(t)||(r[t]=e[t]),t++;return r.length=n,r}}return[e]},Array.prototype.shuffle=function(){var e,t,n=this.length;if(n>1)for(;--n;)e=Math.floor(Math.random()*(n+1)),t=this[n],this[n]=this[e],this[e]=t;return this},Array.prototype.contains=function(e){return this.indexOf(e)!==-1},Array.prototype.remove=function(e){var t=this.indexOf(e);return t>-1&&(this.splice(t,1),!0)},Array.prototype.getFirst=function(){return this[0]},Array.prototype.getLast=function(){return this[this.length-1]};var b=new RegExp("["+i+"]+","g");String.prototype.clean=function(){return this.replace(b," ").trim()},String.prototype.camelize=function(e){return m(this).map(function(t,n){return n||e?t.slice(0,1).toUpperCase()+t.slice(1).toLowerCase():t.toLowerCase()}).join("")},String.prototype.dasherize=function(){return m(this).join("-").toLowerCase()},Number.prototype.padZero=function(e){var t=this<0?"-":"",n=String(Math.abs(this));if(isFinite(this)){var r=n.length-(Math.ceil(this)==this?0:1);r<e&&(n="0".repeat(e-r)+n)}return t+n},Math.limit=function(e,t,n){return Number.isFinite(e)?Math.min(n,Math.max(t,e)):e===1/0?n:t},Math.randomRange=function(e,t){return Math.floor(Math.random()*(t-e+1)+e)};var E=new Date,w=6e4*E.getTimezoneOffset();Date.parseExact=function(e,t,n){t=t||"YYYY-MM-DD";for(var r,o,i,a,s,u,l={},c=0;r=g.exec(t);)i=r[0],o=r.index,s=o+c,u="TZD"===i?"Z"===e.charAt(s)?-2:3:"s"===i?2:0,a=e.substring(s,s+i.length+u),"TZD"===i?a="Z"===a?0:("-"===a.slice(0,1)?1e3:-1e3)*(3600*a.slice(1,3)+60*a.slice(4,6)):(a=Number.toInteger(a),"MM"===i&&--a),l[i]=a,c+=u;var f=Object.mixin({YYYY:E.getFullYear(),MM:0,DD:1,hh:0,mm:0,ss:0,s:0,TZD:n?0:w},l);return new Date(Date.UTC(f.YYYY,f.MM,f.DD,f.hh,f.mm,f.ss,f.s)+f.TZD)},Date.prototype.format=function(e,t){e=e||"YYYY-MM-DD";var n=t?"getUTC":"get",r=this.getTimezoneOffset(),o=r<0?"+":"-",i=Math.floor(Math.abs(r)/60).padZero(2),a=(Math.abs(r)-60*i).padZero(2),s={YYYY:this[n+"FullYear"](),MM:(this[n+"Month"]()+1).padZero(2),DD:this[n+"Date"]().padZero(2),hh:this[n+"Hours"]().padZero(2),mm:this[n+"Minutes"]().padZero(2),ss:this[n+"Seconds"]().padZero(2),s:this[n+"Milliseconds"]().padZero(3),TZD:t||0===r?"Z":o+i+":"+a},u=e.replace(g,function(e){return s[e]});return g.lastIndex=0,u};var S=/([.*+?^${}()|\[\]\/\\])/g;RegExp.escape=function(e){return String(e).replace(S,"\\$1")}}(window),function(e){if(!e.console){var t=e.console={};t.log=t.info=t.warn=t.error=function(){}}Object.mixin(navigator,function(){var t="Unknown",n="Unknown",r=NaN,o=navigator.userAgent;/Trident|MSIE/.test(o)?t="Trident":/WebKit/.test(o)?t="WebKit":/Gecko/.test(o)?t="Gecko":/Presto/.test(o)&&(t="Presto"),o.match(/(IE|Firefox|Chrome|Safari|Opera)(?: |\/)(\d+)/)&&(n=RegExp.$1,r=Number.toInteger(RegExp.$2),o.match(/Version\/(\d+)/)&&(r=Number.toInteger(RegExp.$1)));var i=(navigator.language||navigator.userLanguage).toLowerCase(),a="CSS1Compat"===document.compatMode;a||console.warn("OurJS: Browser is working in non-standards mode!");var s=!1,u=!1,l=!1,c=!1,f=!1,p=!1,d=!1,h=!1,m=!1,g=!1,y=!1,v=!1,b=document.documentElement;if("ActiveXObject"in e){if(a)if("WebSocket"in e)s=!0;else if("HTMLElement"in e)l=!0;else if("Element"in e)f=!0;else if("minWidth"in b.currentStyle)d=!0;else{h=!0;try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){}}p=d||h,c=f||p,u=l||c}else"uneval"in e?m=!0:getComputedStyle(b,null).getPropertyValue("-webkit-user-select")?"chrome"in e?g=!0:y=!0:"opera"in e&&(v=!0);return{userAgentInfo:{engine:t,name:n,version:r},languageCode:i,inStandardsMode:a,isIE10:s,isIElt10:u,isIE9:l,isIElt9:c,isIE8:f,isIElt8:p,isIE7:d,isIE6:h,isFirefox:m,isChrome:g,isSafari:y,isOpera:v}}()),location.parameters=Object.fromQueryString(location.search.slice(1),!0);var n=e.cookie={};if(n.getItem=function(e){var t=document.cookie.match(new RegExp("(?:^|;)\\s*"+RegExp.escape(e)+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},n.setItem=function(e,t,n){n=n||{};var r=e+"="+encodeURIComponent(t);n.path&&(r+="; path="+n.path),n.domain&&(r+="; domain="+n.domain),n.secure&&(r+="; secure"),n.expires&&(r+="; expires="+("string"==typeof n.expires?Date.parseExact(n.expires,"YYYY-MM-DD hh:mm:ss"):n.expires).toUTCString()),document.cookie=r},n.removeItem=function(e,t){t=t||{},t.expires=new Date(0),this.setItem(e,"",t)},!e.localStorage&&document.documentElement.addBehavior&&"file:"!==location.protocol){var r,o=e.localStorage={},i="localStorage";try{var a=new ActiveXObject("htmlfile");a.open(),a.write('<iframe id="store" src="/favicon.ico"></iframe>'),a.close();var s=a.getElementById("store").contentWindow.document;r=s.appendChild(s.createElement("var"))}catch(e){r=document.documentElement}r.addBehavior("#default#userData"),o.getItem=function(e){return r.load(i),r.getAttribute(e)},o.setItem=function(e,t){r.load(i),r.setAttribute(e,t),r.save(i)},o.removeItem=function(e){r.load(i),r.removeAttribute(e),r.save(i)},o.clear=function(){var e=Array.from(r.XMLDocument.documentElement.attributes);r.load(i),e.forEach(function(e){r.removeAttribute(e.name)}),r.save(i)}}}(window),function(e){function t(t,r,o){r||(r=e.event);var i=O.hasOwnProperty(t)?O[t]:0;this.originalEvent=r,this.type=t;var a="target"in r?r.target:r.srcElement||n;if(3===a.nodeType&&(a=a.parentNode),this.target=g(a),this.timeStamp=r.timeStamp||Date.now(),this.bubbles=!!(4&i),r.type){if(3&i)if(this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,1&i){if(this.clientX=r.clientX||0,this.clientY=r.clientY||0,this.screenX=r.screenX||0,this.screenY=r.screenY||0,"pageX"in r)this.pageX=r.pageX,this.pageY=r.pageY;else{var s=e.getPageOffset();this.pageX=this.clientX+s.x,this.pageY=this.clientY+s.y}if("which"in r){var u=r.which;this.leftButton=1===u,this.middleButton=2===u,this.rightButton=3===u,this.which=u}else{var l=r.button;this.leftButton=!!(1&l),this.middleButton=!!(4&l),this.rightButton=!!(2&l),this.which=this.leftButton?1:this.middleButton?2:this.rightButton?3:0}this.relatedTarget=g("relatedTarget"in r?r.relatedTarget:"fromElement"in r?r.fromElement===a?r.toElement:r.fromElement:null)}else this.which=r.which||r.charCode||r.keyCode||0}else o&&Object.mixin(this,o,{blackList:["originalEvent","type","target"]})}var n=e.document,r=n.documentElement,o=/\s*,\s*/;e.uid="window",e.getClientSize=function(){return{width:r.clientWidth,height:r.clientHeight}},e.getScrollSize=function(){var e=n.body||{scrollWidth:0,scrollHeight:0};return{width:Math.max(r.scrollWidth,e.scrollWidth,r.clientWidth),height:Math.max(r.scrollHeight,e.scrollHeight,r.clientHeight)}},e.getPageOffset="pageXOffset"in e?function(){return{x:e.pageXOffset,y:e.pageYOffset}}:function(){return{x:r.scrollLeft,y:r.scrollTop}},n.uid="document";var i;if("addEventListener"in n)i=function(){n.removeEventListener("DOMContentLoaded",i,!1),e.removeEventListener("load",i,!1),n.fire("beforedomready"),n.fire("domready"),n.fire("afterdomready")},n.addEventListener("DOMContentLoaded",i,!1),e.addEventListener("load",i,!1);else{var a=function(){n.body?(n.fire("beforedomready"),n.fire("domready"),n.fire("afterdomready")):setTimeout(a,10)};if(i=function(t,r){a&&(r||"complete"===n.readyState)&&(n.detachEvent("onreadystatechange",i),e.detachEvent("onload",i),a(),a=null)},n.attachEvent("onreadystatechange",i),e.attachEvent("onload",i),e==top&&r.doScroll){var s=function(){try{r.doScroll("left")}catch(e){return void setTimeout(s,10)}i(null,!0)};s()}}var u=/(?!<)\w*/,l={area:["<map>","</map>"],legend:["<fieldset>","</fieldset>"],optgroup:["<select>","</select>"],colgroup:["<table><tbody></tbody>","</table>"],col:["<table><tbody></tbody><colgroup>","</colgroup></table>"],tr:["<table><tbody>","</tbody></table>"],th:["<table><tbody><tr>","</tr></tbody></table>"]};l.option=l.optgroup,l.caption=l.thead=l.tfoot=l.tbody=l.colgroup,l.td=l.th,navigator.isIElt9&&(l.link=l.style=l.script=["#",""]);var c=["",""];e.$=n.$=function(e){var t=null;if("string"==typeof e)if("<"===e.charAt(0)&&">"===e.charAt(e.length-1)){var r=u.exec(e)[0].toLowerCase(),o=l[r]||c;for(t=n.createElement("div"),t.innerHTML=o[0]+e+o[1];(t=t.lastChild)&&t.nodeName.toLowerCase()!==r;);t&&1!==t.nodeType&&(t=null)}else t=Sizzle(e)[0]||null;else e&&1===e.nodeType&&(t=e);return g(t)},n.find=function(e){return g(Sizzle(e,this)[0]||null)},n.findAll=function(e){return Sizzle(e,this).map(function(e){return g(e)})};var f;n.addStyleRules=function(e){if(!f){n.head.appendChild(n.createElement("style"));var t=n.styleSheets;f=t[t.length-1]}e.forEach(function(e){if(f.insertRule)f.insertRule(e,f.cssRules.length);else{var t=e.indexOf("{"),n=e.indexOf("}"),r=e.slice(0,t),i=e.slice(t+1,n);r.split(o).forEach(function(e){f.addRule(e,i)})}})},n.loadScript=function(e,t){t=t||{};var r=n.head,o=n.createElement("script");t.charset&&(o.charset=t.charset),o.src=e,o.onload=o.onreadystatechange=function(){this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(this.onload=this.onreadystatechange=null,r.removeChild(o),t.onLoad&&t.onLoad.call(this))},r.insertBefore(o,r.firstChild)},n.preloadImages=function(e,t){e.forEach(function(e){var n=new Image;t&&(n.onload=function(){n.onload=null,t.call(n)}),n.src=e})};var p={};e.fixElementConstructor=function(t,n){var r=e[n]||(e[n]={prototype:{}});return p[t]=r.prototype,r};var d=fixElementConstructor("*","Element"),h=0,m=d.prototype,g=navigator.isIElt8?function(e){if(e&&!e.uid){e.uid=++h;var t;for(t in m)e[t]=m[t];var n=p[e.nodeName];if(n)for(t in n)e[t]=n[t]}return e}:function(e){return e&&!e.uid&&(e.uid=++h),e};n.head||(n.head=r.firstChild),"innerText"in r||(HTMLElement.prototype.__defineGetter__("innerText",function(){return this.textContent}),HTMLElement.prototype.__defineSetter__("innerText",function(e){return this.textContent=e,e})),"outerText"in r||(HTMLElement.prototype.__defineGetter__("outerText",function(){return this.textContent}),HTMLElement.prototype.__defineSetter__("outerText",function(e){var t=n.createTextNode(e);return this.parentNode.replaceChild(t,this),e})),"insertAdjacentText"in r||(HTMLElement.prototype.insertAdjacentText=function(e,t){switch(e.toLowerCase()){case"beforebegin":case"afterbegin":case"beforeend":case"afterend":this.insertAdjacentElement(e,n.createTextNode(t));break;default:throw new Error('Invalid position "'+e+'"')}}),"insertAdjacentElement"in r||(HTMLElement.prototype.insertAdjacentElement=function(e,t){var n;switch(e.toLowerCase()){case"beforebegin":(n=this.parentNode)&&n.insertBefore(t,this);break;case"afterbegin":this.insertBefore(t,this.firstChild);break;case"beforeend":this.appendChild(t);break;case"afterend":(n=this.parentNode)&&n.insertBefore(t,this.nextSibling);break;default:throw new Error('Invalid position "'+e+'"')}return t}),"compareDocumentPosition"in r||(d.prototype.compareDocumentPosition=function(e){return(this!==e&&this.contains(e)&&16)+(this!==e&&e.contains(this)&&8)+(this.sourceIndex>=0&&e.sourceIndex>=0?(this.sourceIndex<e.sourceIndex&&4)+(this.sourceIndex>e.sourceIndex&&2):1)+0}),d.prototype.getParent="parentElement"in r?function(){return g(this.parentElement)}:function(){var e=this.parentNode;return 1!==e.nodeType&&(e=null),g(e)},d.prototype.getPreviousSibling="previousElementSibling"in r?function(){return g(this.previousElementSibling)}:function(){for(var e=this;(e=e.previousSibling)&&1!==e.nodeType;);return g(e)},d.prototype.getNextSibling="nextElementSibling"in r?function(){return g(this.nextElementSibling)}:function(){for(var e=this;(e=e.nextSibling)&&1!==e.nodeType;);return g(e)},d.prototype.getFirstChild="firstElementChild"in r?function(){return g(this.firstElementChild)}:function(){for(var e=this.firstChild;e&&1!==e.nodeType&&(e=e.nextSibling););return g(e)},d.prototype.getLastChild="lastElementChild"in r?function(){return g(this.lastElementChild)}:function(){for(var e=this.lastChild;e&&1!==e.nodeType&&(e=e.previousSibling););return g(e)},d.prototype.getChildren=function(){for(var e=[],t=this.getFirstChild();t;)e.push(t),t=t.getNextSibling();return e},d.prototype.getChildCount="childElementCount"in r?function(){return this.childElementCount}:function(){for(var e=0,t=this.firstChild;t;)1===t.nodeType&&e++,t=t.nextSibling;return e},d.prototype.find=n.find,d.prototype.findAll=n.findAll,d.prototype.matchesSelector=function(e){return Sizzle.matchesSelector(this,e)},d.prototype.clone=function(e,t){var n=this.cloneNode(e),r=[this],o=[n];return e&&(r=r.concat(Array.from(this.getElementsByTagName("*"))),o=o.concat(Array.from(n.getElementsByTagName("*")))),r.forEach(function(e,n){var r=o[n];if(r){switch(navigator.isIElt9&&(r.clearAttributes(),r.mergeAttributes(e),r.removeAttribute("uid")),r.nodeName){case"OBJECT":r.outerHTML=e.outerHTML;break;case"INPUT":case"TEXTAREA":"radio"!==r.type&&"checkbox"!==r.type||(r.checked=r.defaultChecked=e.defaultChecked),r.value=r.defaultValue=e.defaultValue;break;case"OPTION":r.selected=r.defaultSelected=e.defaultSelected}if(t){var i=D[e.uid];if(i){var a=g(r);Object.forEach(i,function(e){e.forEach(function(e){a.on(e.name,e.listener)})})}}}}),g(n)},d.prototype.insertTo=function(e,t){return t=t||"beforeEnd",e.insertAdjacentElement(t,this)},d.prototype.swap="swapNode"in r?function(e){return this.swapNode(e)}:function(e){var t=e.parentNode,n=this.parentNode,r=this.nextSibling;return t?t.replaceChild(this,e):this.remove(!0),n&&n.insertBefore(e,r),this},d.prototype.replace=function(e,t){var n=g(e),r=n.getParent();return r&&(t||Array.from($(n).getElementsByTagName("*")).forEach($),r.replaceChild(this,n)),this},d.prototype.remove=function(e){var t=this.getParent();return t&&(e||Array.from($(this).getElementsByTagName("*")).forEach($),t.removeChild(this)),this},d.prototype.empty=function(){for(Array.from(this.getElementsByTagName("*")).forEach($);this.firstChild;)this.removeChild(this.firstChild);return this},d.prototype.getClientRect=navigator.isIElt8?function(){var e=this.getBoundingClientRect(),t=e.left-r.clientLeft,n=e.top-r.clientTop,o=this.offsetWidth,i=this.offsetHeight;return{left:t,right:t+o,top:n,bottom:n+i,width:o,height:i}}:function(){var e=this.getBoundingClientRect();return"width"in e?e:{left:e.left,right:e.right,top:e.top,bottom:e.bottom,width:this.offsetWidth,height:this.offsetHeight}},d.prototype.hasClass=function(e){var t=" "+this.className.clean()+" ";return e.split(o).every(function(e){return t.contains(" "+e.trim()+" ")})},d.prototype.addClass=function(e){var t=this;return e.split(o).forEach(function(e){t.hasClass(e)||(t.className=(t.className+" "+e).clean())}),t},d.prototype.removeClass=function(e){var t=this,n=" "+t.className.clean()+" ";return e.split(o).forEach(function(e){n=n.replace(" "+e.trim()+" "," ")}),t.className=n.trim(),t},d.prototype.toggleClass=function(e){var t=this;return e.split(o).forEach(function(e){t[t.hasClass(e)?"removeClass":"addClass"](e)}),t};var y={fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},v={float:function(e){return e.currentStyle.styleFloat},opacity:function(e){return e.filters.alpha?String(e.filters.alpha.opacity/100):"1"}},b="getComputedStyle"in e?{float:function(e,t){e.style.cssFloat=t}}:{float:function(e,t){e.style.styleFloat=t},opacity:function(e,t){e.filters.alpha?e.filters.alpha.opacity=100*t:(e.style.filter&&(e.style.filter+=" "),e.style.filter+="alpha(opacity="+100*t+")")}};if(navigator.isIE6){r.style.backgroundImage="url(about:blank)";var E=function(e,t){var n=t.left.usedValue,r=t.top.usedValue,o=t.right.usedValue,i=t.bottom.usedValue;isFinite(n)?e.style.setExpression("left","(document && document.documentElement.scrollLeft + "+n+') + "px"'):e.style.setExpression("left","(document && (document.documentElement.scrollLeft + document.documentElement.clientWidth - this.offsetWidth - (parseInt(this.currentStyle.marginLeft, 10) || 0) - (parseInt(this.currentStyle.marginRight, 10) || 0)) - "+o+') + "px"'),isFinite(r)?e.style.setExpression("top","(document && document.documentElement.scrollTop + "+r+') + "px"'):e.style.setExpression("top","(document && (document.documentElement.scrollTop + document.documentElement.clientHeight - this.offsetHeight - (parseInt(this.currentStyle.marginTop, 10) || 0) - (parseInt(this.currentStyle.marginBottom, 10) || 0)) - "+i+') + "px"')},w=function(e){e.style.removeExpression("left"),e.style.removeExpression("top")};v.position=function(e){return e._fixedData_?"fixed":e.currentStyle.position},b.position=function(e,t){var n=e._fixedData_;if("fixed"===t.toLowerCase()){if(!n){n=e._fixedData_={left:{},right:{},top:{},bottom:{},enabled:!1};var o={},i=e.currentStyle;n.left.specifiedValue=o.left=i.left,n.right.specifiedValue=o.right=i.right,n.top.specifiedValue=o.top=i.top,n.bottom.specifiedValue=o.bottom=i.bottom,Object.forEach(o,function(e,t,r){n[t].usedValue=r[t]=e.endsWith("px")?parseInt(e,10):NaN}),isNaN(n.left.usedValue)&&isNaN(n.right.usedValue)&&(n.left.usedValue=r.scrollLeft+e.getClientRect().left-(parseInt(e.currentStyle.marginLeft,10)||0)),isNaN(n.top.usedValue)&&isNaN(n.bottom.usedValue)&&(n.top.usedValue=r.scrollTop+e.getClientRect().top-(parseInt(e.currentStyle.marginTop,10)||0)),"none"!==e.currentStyle.display&&(n.enabled=!0,E(e,n))}t="absolute"}else n&&(w(e),e.style.left=n.left.specifiedValue,e.style.right=n.right.specifiedValue,e.style.top=n.top.specifiedValue,e.style.bottom=n.bottom.specifiedValue,e.removeAttribute("_fixedData_"));e.style.position=t},b.display=function(e,t){var n=e._fixedData_;n&&("none"===t.toLowerCase()?n.enabled&&(n.enabled=!1,w(e)):n.enabled||(n.enabled=!0,E(e,n))),e.style.display=t};var S=function(e,t){var n=e._fixedData_;return n?n[t].specifiedValue:e.currentStyle[t]},C=function(e,t,n){var r=e._fixedData_;if(r){if(r[t].specifiedValue=n,n.endsWith("px")){var o=parseInt(n,10);r[t].usedValue!==o&&(r[t].usedValue=o,r.enabled&&E(e,r))}}else e.style[t]=n};["left","right","top","bottom"].forEach(function(e){v[e]=function(t){return S(t,e)},b[e]=function(t,n){C(t,e,n)}}),n.addStyleRules(["* { behavior: expression(document.fixIE6Styles(this)); }"]),n.fixIE6Styles=function(e){if("fixed"===e.currentStyle.position){var t=e.currentStyle.display;e.style.display="none",setTimeout(function(){e.style.display=t,"fixed"===e.currentStyle.position&&g(e).setStyle("position","fixed")},0)}e.style.behavior="none"}}d.prototype.getStyle="getComputedStyle"in e?function(t){var n=e.getComputedStyle(this,null);return n&&n.getPropertyValue(t.dasherize())||""}:function(e){var t=v[e];return(t?t(this):this.currentStyle[e])||""},d.prototype.getStyles=function(e){var t=this,n={};return e.forEach(function(e){n[e]=t.getStyle(e)}),n},d.prototype.setStyle=function(e,t){Number.isFinite(t)&&!y[e]&&(t=Math.floor(t)+"px");var n=b[e];return n?n(this,t):this.style[e]=t,this},d.prototype.setStyles=function(e){for(var t in e)this.setStyle(t,e[t]);return this};var F=/^[a-z][a-zA-Z]*$/,x=function(e){return F.test(e)?"data-"+e.dasherize():""};d.prototype.getData="dataset"in r?function(e){var t=this.dataset[e];return void 0===t?null:t}:function(e){e=x(e);var t=this.getAttribute(e);return"string"==typeof t?t:null},d.prototype.setData=function(e,t){return e=x(e),e&&this.setAttribute(e,String(t)),this},d.prototype.removeData=function(e){return e=x(e),e&&this.removeAttribute(e),this};var T=fixElementConstructor("FORM","HTMLFormElement"),A=function(e){var t="";if(e.nodeType)switch(e.type){case"radio":case"checkbox":e.checked&&!e.disabled&&(t=e.value);break;case"select-one":case"select-multiple":if(!e.disabled){var n,r=e.options,o=0;if("select-one"===e.type){var i=e.selectedIndex;if(navigator.isSafari&&0===i&&!r[0].hasAttribute("selected"))for(;n=r[++o];)if(!n.disabled&&!n.parentNode.disabled){i=o;break}i>=0&&!r[i].disabled&&(t=r[i].value)}else for(t=[];n=r[o++];)!n.selected||n.disabled||n.parentNode.disabled||t.push(n.value)}break;default:e.disabled||(t=e.value)}else t=[],Array.from(e).forEach(function(e){var n=A(e);n&&(t=t.concat(n))});return t};T.prototype.getFieldValue=function(e){var t=this.elements[e];if(!t)throw new Error('Invalid field name "'+e+'"');return A(t)};var N=fixElementConstructor("SELECT","HTMLSelectElement");N.prototype.remove&&(N.prototype.remove=d.prototype.remove),N.prototype.insertOption=function(e,t,n,r,o){return this.options.add(new Option(t,n,r,o),e),this},N.prototype.deleteOption=function(e){var t=e>-1?g(this.options[e]):null;return t&&t.remove(),this};var D={},O={mousedown:5,mouseup:5,click:5,dblclick:5,contextmenu:5,mousemove:5,mouseover:5,mouseout:5,mouseenter:1,mouseleave:1,mousewheel:5,mousedragstart:5,mousedrag:5,mousedragend:5,mousedragenter:5,mousedragleave:5,mousedragover:5,mousedrop:5,keydown:6,keypress:6,keyup:6,focus:0,blur:0,focusin:4,focusout:4,input:4,change:4,select:0,cut:4,copy:4,paste:4,submit:0,reset:0,scroll:0,resize:0,load:0,unload:0,error:0,beforedomready:0,domready:0,afterdomready:0},k={mouseenter:!0,mouseleave:!0},I=function(){return!0},B=function(){return!1},j=/^([a-zA-Z]+)(?::relay\(([^\)]+)\))?(?::(once)|:idle\((\d+)\)|:throttle\((\d+)\))?(?:\.\w+)?$/,L=/({)|}/g,M=function(e){for(var t,n="",r=0,o=0;t=e.charAt(o++);){if("{"===t||"}"===t){n="";break}"("===t?(r>0&&(t="{"),++r):")"===t&&(--r,r>0&&(t="}")),n+=t}var i=n.match(j);if(null===i)throw new SyntaxError('Invalid listener name "'+e+'"');return{type:i[1],selector:i[2]?i[2].replace(L,function(e,t){return t?"(":")"}):"",once:!!i[3],idle:parseInt(i[4],10),throttle:parseInt(i[5],10)}},R="addEventListener"in e?function(e,t,n,r){e.addEventListener(t,n,r)}:function(e,t,n){e.attachEvent("on"+t,n)},P="removeEventListener"in e?function(e,t,n,r){e.removeEventListener(t,n,r)}:function(e,t,n){e.detachEvent("on"+t,n)},_=function(t,o,i,a){var s,u,l,c,f=o.slice(0),p=o.delegateCount,d=p?i.target:t,h={};do for(d===t?(l=p,c=f.length):(l=0,c=p);l<c&&(s=f[l++],u=s.selector,u&&!(h[u]||(h[u]=function(e){if(e)return function(t){var n=e.tagName,r=e.className;return(!n||t.nodeName===n)&&(!r||t.hasClass(r))};var n=t.findAll(u);return function(e){return n.contains(e)}}(s.simpleSelector)))(d)||a&&!a.call(d,i)||(s.listener.call(d,i)===!1&&(i.stopPropagation(),i.preventDefault()),!i.isImmediatePropagationStopped())););while(d!==t&&!i.isPropagationStopped()&&(d=d===n&&e||d===r&&n||d.getParent()))},H={};if(H.mousedragstart=H.mousedrag=H.mousedragend=function(){var r=["mousedragstart","mousedrag","mousedragend"],o=function(e){e.preventDefault()};(navigator.isChrome||navigator.isSafari)&&e!==top&&(o.enabled=!0);var i=null,a=0,s=0,u=!1,l=null,c=null,f={},p=["timeStamp","ctrlKey","altKey","shiftKey","metaKey","clientX","clientY","screenX","screenY","pageX","pageY","leftButton","middleButton","rightButton","which"],d=function(e){p.forEach(function(t){f[t]=e[t]})},h=function(r){if(!i){var l=new t(r.type,r);if(l.leftButton){i=l.target,i.setCapture&&i.setCapture(),o.enabled?R(n,"selectstart",o):l.preventDefault(),a=l.pageX,s=l.pageY,d(l),f.offsetX=f.offsetY=0;var c=i.fire("mousedragstart",f);f.relatedTarget=g(c.relatedTarget||null),u=!!c.aimRelatedTarget,setTimeout(function(){R(n,"mousemove",m),R(n,"mousedown",y),R(n,"mouseup",y),R(e,"blur",y)},0)}}},m=function(e){var r=new t(e.type,e);d(r),f.offsetX=r.pageX-a,f.offsetY=r.pageY-s,i.fire("mousedrag",f);var o=r.clientX,p=r.clientY,h=f.relatedTarget;if(h){if(u){var m=h.getClientRect();o=m.left+Math.floor(m.width/2),p=m.top+Math.floor(m.height/2)}var y=h.style,v=y.left,b=y.top;y.left="-50000px",y.top="0"}l=g(n.elementFromPoint(o,p)),h&&(y.left=v,y.top=b),l!==c&&(c&&c.fire("mousedragleave",f),l&&l.fire("mousedragenter",f)),l&&l.fire("mousedragover",f),c=l},y=function(r){if(r.type.startsWith("mouse")){var p=new t(r.type,r);d(p)}f.timeStamp=Date.now(),l&&l.fire("mousedrop",f),i.fire("mousedragend",f),i.releaseCapture&&i.releaseCapture(),o.enabled&&P(n,"selectstart",o),i=l=c=null,a=s=0,u=!1,f={},P(n,"mousemove",m),P(n,"mousedown",y),P(n,"mouseup",y),P(e,"blur",y)};return{add:function(e){R(e,"mousedown",h);var t=D[e.uid];r.forEach(function(e){if(!t[e]){var n=[];n.delegateCount=0,t[e]=n}})},remove:function(e){var t=D[e.uid],n=0;return r.forEach(function(e){n+=t[e].length}),0===n&&(P(e,"mousedown",h),r.forEach(function(e){delete t[e]})),!1}}}(),navigator.isFirefox&&Object.forEach({focusin:"focus",focusout:"blur"},function(e,t){var r=0,o=function(e){e.target.fire(t)};H[t]={add:function(){1===++r&&R(n,e,o,!0)},remove:function(){0===--r&&P(n,e,o,!0)}}}),navigator.isIElt10||navigator.isFirefox){var Y=function(e){var t=e.nodeName,n=e.type;return"TEXTAREA"===t||"INPUT"===t&&("text"===n||"password"===n)};navigator.isIElt10&&(H.input=function(){var e,t=0,o=function(e){e._valueBeforeInput_!==e.value&&(e._valueBeforeInput_=e.value,e.fire("input"))},i=function(t){var n=t.srcElement;if(Y(n)){var r=g(n);"drop"===t.type&&(r._dropForInput_=!0),"beforeactivate"===t.type&&r._dropForInput_?(r._dropForInput_=!1,o(r)):r._valueBeforeInput_=r.value,e=r}},a=function(t){t.srcElement===e&&(e=null)},s=function(t){if(t.srcElement===e){var n=e;setTimeout(function(){o(n)},0)}},u=function(e){var t=e.srcElement;"_valueBeforeInput_"in t&&setTimeout(function(){o(t)},0)},l=function(){e&&o(e)};return{add:function(){1===++t&&(R(r,"drop",i),R(n,"beforeactivate",i),R(n,"beforedeactivate",a),R(n,"selectionchange",l),R(n,"keydown",s),R(r,"dragend",u))},remove:function(){0===--t&&(P(r,"drop",i),P(n,"beforeactivate",i),P(n,"beforedeactivate",a),P(n,"selectionchange",l),P(n,"keydown",s),P(r,"dragend",u))}}}(),H.change=function(){var e=function(e){var t=e.srcElement,n=t.nodeName,r=t.type;if(!t._changeEventFixed_&&("INPUT"===n&&("radio"===r||"checkbox"===r)||"SELECT"===n)){var o=g(t);navigator.isIElt9&&"INPUT"===n?(R(o,"propertychange",function(e){"checked"===e.propertyName&&(o._checkedStateChanged_=!0)}),R(o,"click",function(){o._checkedStateChanged_&&(o._checkedStateChanged_=!1,
o.fire("change"))})):R(o,"change",function(){o.fire("change")}),o._changeEventFixed_=!0}},t=0,o=function(e){var t=e.srcElement;Y(t)&&(t._dropForChange_?t._dropForChange_=!1:t._valueBeforeChange_=t.value,"drop"===e.type&&(t._dropForChange_=!0))},i=function(e){var t=e.srcElement;if(Y(t)){var n=g(t);setTimeout(function(){n._valueBeforeChange_!==n.value&&(n._valueBeforeChange_=n.value,n.fire("change"))},0)}};return{add:function(a){R(a,"beforeactivate",e),1===++t&&(R(r,"drop",o),R(n,"beforeactivate",o),R(n,"beforedeactivate",i))},remove:function(a){P(a,"beforeactivate",e),0===--t&&(P(r,"drop",o),P(n,"beforeactivate",o),P(n,"beforedeactivate",i))}}}()),navigator.isFirefox&&R(n,"drop",function(e){var t=e.target;Y(t)&&t!==n.activeElement&&setTimeout(function(){t.fire("change")},0)})}var $=function(e){var t=D[e.uid];if(t)for(var n,r=Object.keys(t);r.length;)for(n=t[r.shift()];n.length;)e.off(n[0].name);return e};Object.mixin(t.prototype,{stopPropagation:function(){var e=this.originalEvent;e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0),this.isPropagationStopped=I},isPropagationStopped:B,preventDefault:function(){var e=this.originalEvent;e&&(e.preventDefault?e.preventDefault():e.returnValue=!1),this.isDefaultPrevented=I},isDefaultPrevented:B,stopImmediatePropagation:function(){this.stopPropagation(),this.isImmediatePropagationStopped=I},isImmediatePropagationStopped:B});var z=function(){},X=/^(\w*)(?:\.([\w\-]+))?$/;z.prototype.on=function(e,n){var r=g(this),i=r.uid,a=D[i]||(D[i]={});return e.split(o).forEach(function(e){var o=M(e),i=o.type,s=o.selector,u=o.once,l=o.idle,c=o.throttle,f=a[i]||(a[i]=[]);if(!("delegateCount"in f)){if(O.hasOwnProperty(i))if(H[i])H[i].add(r);else{var p;switch(i){case"mousewheel":p=function(e){var n=new t(i,e),o=n.originalEvent,a="wheelDelta"in o?-o.wheelDelta:o.detail||0;n.wheelUp=a<0,n.wheelDown=a>0,_(r,f,n)},p.type=navigator.isFirefox?"DOMMouseScroll":"mousewheel";break;case"mouseenter":case"mouseleave":p=function(e){_(r,f,new t(i,e),function(e){var t=e.relatedTarget;return!t||this.contains&&!this.contains(t)})},p.type="mouseenter"===i?"mouseover":"mouseout";break;default:p=function(e){_(r,f,new t(i,e))},p.type=i}R(r,p.type,p),f.distributor=p}f.delegateCount=0}var d={name:e};if(u?d.listener=function(t){var o=n.call(this,t);return r.off(e),o}:l?d.listener=function(){var e;return function(t){var r=this;e&&clearTimeout(e),e=setTimeout(function(){n.call(r,t),e=void 0},l)}}():c?d.listener=function(){var e,t,r,o=0;return function(i){t=this,r=i;var a=Date.now(),s=a-o;e||(e=setTimeout(function(){n.call(t,r),o=Date.now(),e=void 0},s<c?c-s:0))}}():d.listener=n,s){d.selector=s;var h;(h=s.match(X))&&(d.simpleSelector={tagName:h[1].toUpperCase(),className:h[2]||""}),f.splice(f.delegateCount++,0,d),k.hasOwnProperty(i)||4&O[i]||console.warn('OurJS: Incompatible event delegation type "'+e+'".')}else f.push(d)}),r},z.prototype.off=function(e){var t=this,n=t.uid,r=D[n];return r?(e.split(o).forEach(function(e){var n=M(e).type,o=r[n];if(o){for(var i,a=0;a<o.length;)i=o[a],i.name===e?(o.splice(a,1),i.selector&&o.delegateCount--):a++;if(0===o.length){if(O.hasOwnProperty(n))if(H[n]){if(H[n].remove(t)===!1)return}else{var s=o.distributor;P(t,s.type,s)}delete r[n]}}}),0===Object.keys(r).length&&delete D[n],t):t},z.prototype.fire=function(o,i){for(var a,s,u=new t(o,{type:"",target:this},i),l=this;l&&((s=(a=D[l.uid])&&a[u.type])&&_(l,s,u),u.bubbles&&!u.isPropagationStopped()&&"window"!==l.uid);)l=l===n&&e||l===r&&n||l.getParent();return u},e.on=n.on=d.prototype.on=z.prototype.on,e.off=n.off=d.prototype.off=z.prototype.off,e.fire=n.fire=d.prototype.fire=z.prototype.fire}(window),function(e){var t=/\s*,\s*/,n=/^([a-zA-Z]+)(?:\.\w+)?$/,r=function(e){var t=e.match(n);if(null===t)throw new SyntaxError('Invalid listener name "'+e+'"');return t[1]},o=function(e,t,n){this.type=e,this.target=t,n&&Object.mixin(this,n,{blackList:["type","target"]})},i=e.JSEventTarget=function(){this.eventHandlers={}};i.create=function(e){return this.call(e),Object.mixin(e,this.prototype),e},i.prototype.on=function(e,n){var o=this.eventHandlers;return e.split(t).forEach(function(e){var t=r(e),i=o[t]||(o[t]=[]);i.push({name:e,listener:n})}),this},i.prototype.off=function(e){var n=this.eventHandlers;return e.split(t).forEach(function(e){var t=r(e),o=n[t];if(o){for(var i,a=0;a<o.length;)i=o[a],i.name===e?o.splice(a,1):a++;0===o.length&&delete n[t]}}),this},i.prototype.fire=function(e,t){var n=this,r=new o(e,n,t),i=n.eventHandlers[e];return i&&i.slice(0).forEach(function(e){e.listener.call(n,r)}),r}}(window),function(e){var t,n={},r=-2,o=-1,i=0,a=1,s=2,u=-1,l=0,c=1,f=function(e,t,n,r){var o=0,i=0,a=0,s=0,u=0,l=0,c=function(e){return((o*e+i)*e+a)*e},f=function(e){return((s*e+u)*e+l)*e},p=function(e){var t,n,r,s,u,l,f=.001;for(r=e,l=0;l<8;l++){if(s=c(r)-e,Math.abs(s)<f)return r;if(u=(3*o*r+2*i)*r+a,Math.abs(u)<1e-6)break;r-=s/u}if(t=0,n=1,r=e,r<t)return t;if(r>n)return n;for(;t<n;){if(s=c(r),Math.abs(s-e)<f)return r;e>s?t=r:n=r,r=.5*(n-t)+t}return r};return a=3*e,i=3*(n-e)-a,o=1-a-i,l=3*t,u=3*(r-t)-l,s=1-l-u,function(e){return f(p(e))}},p={linear:function(e){return e},bounceIn:function(e){e=1-e;for(var t,n=0,r=1;1;n+=r,r/=2)if(e>=(7-4*n)/11){t=r*r-Math.pow((11-6*n-11*e)/4,2);break}return 1-t},bounceOut:function(e){for(var t,n=0,r=1;1;n+=r,r/=2)if(e>=(7-4*n)/11){t=r*r-Math.pow((11-6*n-11*e)/4,2);break}return t},ease:f(.25,.1,.25,1),easeIn:f(.42,0,1,1),easeOut:f(0,0,.58,1),easeInOut:f(.42,0,.58,1),easeOutIn:f(0,.42,1,.58)},d=function(e){return e=e||"",p[e]||(e.startsWith("cubicBezier")?f.apply(null,e.slice(12,-1).split(",").map(function(e){return parseFloat(e)})):p.ease)},h=function(e,t,n){e.clips.forEach(function(r){var o=!1,i=r.duration,a=(t-r.delay)/Math.max(1,i);if(n){if(r.status===c)return;r.status===u&&a>=0&&(a=i?0:1,r.status=l),r.status===l&&(o=!0,a>=1&&(a=1,r.status=c))}else{if(r.status===u)return;r.status===c&&a<=1&&(a=i?1:0,r.status=l),r.status===l&&(o=!0,a<=0&&(a=0,r.status=u))}o&&r.call(e,a,0===a?0:1===a?1:r.timingFunction(a))}),e.fire("step"),n?t===e.duration&&(e.timestamp&&y(e),e.status=s,e.fire("playfinish")):0===t&&(e.timestamp&&y(e),e.status=r,e.fire("reversefinish"))},m=[],g=function(e){e.timestamp=Date.now(),m.push(e),t||(t=setInterval(function(){var e=Date.now();m.forEach(function(t){var n=t.status===a,r=Math.limit(t.timePoint+(e-t.timestamp)*(n?1:-1),0,t.duration);t.timestamp=e,t.timePoint=r,h(t,r,n)}),m.length||(clearInterval(t),t=void 0)},1e3/Math.limit(v.fps,10,60)))},y=function(e){delete e.timestamp,m.remove(e)},v=e.Animation=function(){this.clips=[],this.timePoint=0,this.status=r,this.duration=0,JSEventTarget.create(this)};v.fps=60,v.prototype.addClip=function(e,t,n,r){return e.delay=t,e.duration=n,e.timingFunction=d(r),e.status=u,this.clips.push(e),this.duration=Math.max(this.duration,t+n),this},v.prototype.play=function(e){var t=this,i=e!==n,u=t.status;if(i&&u!==a&&u!==s||!i&&u!==o&&u!==r){if(i?(t.status=a,t.fire("play"),u===r&&t.status===a&&t.fire("playstart")):(t.status=o,t.fire("reverse"),u===s&&t.status===o&&t.fire("reversestart")),!t.timestamp&&(t.status===a||t.status===o)){var l=t.timePoint,c=t.duration;h(t,l,i),(i?l!==c:0!==l)&&g(t)}return!0}return!1},v.prototype.reverse=function(){return this.play(n)},v.prototype.pause=function(){var e=this;return(e.status===a||e.status===o)&&(e.timestamp&&y(e),e.status=i,e.fire("pause"),!0)};var b=1,E=2,w=4,S={},C=["opacity"],F=["top","right","bottom","left","width","height","outlineWidth","backgroundPositionX","backgroundPositionY","fontSize","lineHeight","letterSpacing","wordSpacing","textIndent"];F.push("margin","padding","borderWidth","borderColor");var x=["color","backgroundColor","outlineColor"];["Top","Right","Bottom","Left"].forEach(function(e){F.push("margin"+e,"padding"+e,"border"+e+"Width"),x.push("border"+e+"Color")}),C.forEach(function(e){S[e]=b}),F.forEach(function(e){S[e]=E}),x.forEach(function(e){S[e]=w});var T=function(e){var t=parseFloat(e);return isFinite(t)?t:0},A={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8B",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"},N=/^#([\da-f]{2})([\da-f]{2})([\da-f]{2})$/i,D=/^#([\da-f])([\da-f])([\da-f])$/i,O=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/,k=function(e){var t=[255,255,255];A.hasOwnProperty(e)&&(e=A[e]);var n;return(n=e.match(N))?t=Array.from(n).slice(1).map(function(e){return parseInt(e,16)}):(n=e.match(D))?t=Array.from(n).slice(1).map(function(e){return parseInt(e+e,16)}):(n=e.match(O))&&(t=Array.from(n).slice(1).map(function(e){return+e})),t},I=/^[+\-]=\d+$/,B=function(e,t){return"string"==typeof t&&I.test(t)?e+ +(t.slice(0,1)+"1")*t.slice(2):T(t)},j=function(e,t){var n=e.getStyles(Object.keys(t)),r={before:{},after:{}};return Object.forEach(n,function(e,n){var o=t[n];switch(S[n]){case b:r.before[n]=T(e),r.after[n]=T(o);break;case E:r.before[n]=e=T(e),r.after[n]=B(e,o);break;case w:r.before[n]=k(e),r.after[n]=k(o)}}),r};v.createBasicRenderer=function(e){return e.type="basic",e},v.createStyleRenderer=function(e,t){var n=document.$(e),r=j(n,t),o=function(e,t){Object.forEach(r.before,function(e,o){var i,a=r.after[o];switch(S[o]){case b:i=(e+(a-e)*t).toFixed(2);break;case E:i=Math.floor(e+(a-e)*t)+"px";break;case w:i="rgb("+Math.floor(e[0]+(a[0]-e[0])*t)+", "+Math.floor(e[1]+(a[1]-e[1])*t)+", "+Math.floor(e[2]+(a[2]-e[2])*t)+")"}n.setStyle(o,i)})};return o.type="style",o},v.createScrollRenderer=function(t,n,r){var o,i,a=document.$(t),s=a===document.documentElement||a===document.body;if(s){var u=e.getPageOffset();o=u.x,i=u.y}else o=a.scrollLeft,i=a.scrollTop;var l=B(o,n)-o,c=B(i,r)-i,f=function(t,n){var r=Math.round(o+l*n),u=Math.round(i+c*n);s?e.scrollTo(r,u):(a.scrollLeft=r,a.scrollTop=u)};return f.type="scroll",f};var L=/\s*,\s*/,M=function(){},R=function(e){return e._animations_||(e._animations_={})};Element.prototype.morph=function(e,t){var n=this;t=Object.mixin({duration:400,timingFunction:"ease",onStart:M,onStep:M,onFinish:M},t||{});var r=R(n),o=r.morph;o&&o.pause();var i=r.morph=(new v).addClip(v.createStyleRenderer(n,e),0,t.duration,t.timingFunction).on("playstart",function(e){t.onStart.call(n,e)}).on("step",function(e){t.onStep.call(n,e)}).on("playfinish",function(e){delete r.morph,t.onFinish.call(n,e)});return i.play(),n},Element.prototype.highlight=function(e,t,n){var r=this;e=e||"yellow",t=t||"backgroundColor",n=Object.mixin({duration:500,timingFunction:"easeIn",onStart:M,onStep:M,onFinish:M},n||{});var o=R(r),i=o.highlight;i&&(i.pause(),r.setStyle(i.property,i.originalColor));var a={};a[t]=r.getStyle(t);var s=o.highlight=(new v).on("playstart",function(o){r.setStyle(t,e),this.addClip(v.createStyleRenderer(r,a),0,n.duration,n.timingFunction),n.onStart.call(r,o)}).on("step",function(e){n.onStep.call(r,e)}).on("playfinish",function(e){r.setStyle(this.property,this.originalColor),delete o.highlight,n.onFinish.call(r,e)});return s.property=t,s.originalColor=r.style[t],s.play(),r},Element.prototype.fade=function(e,t){var n,r=this,o=R(r),i=o.fade,a=i?!i.isFadeInMode:"none"===r.getStyle("display");switch((e||"toggle").toLowerCase()){case"toggle":n=a;break;case"in":n=!0;break;case"out":n=!1;break;default:throw new Error('Invalid mode "'+e+'"')}if(i||n===a){t=Object.mixin({duration:200,timingFunction:"easeIn",onStart:M,onStep:M,onFinish:M},t||{});var s,u;i?(s=i.originalOpacity,u=Math.abs((n===i.isFadeInMode?0:1)-i.percentageNeedsPlay*(1-i.timePoint/i.duration)),i.pause()):(s=r.getStyle("opacity"),u=1,n&&r.setStyles({display:"block",opacity:0}));var l=o.fade=(new v).addClip(v.createStyleRenderer(r,{opacity:n?s:0}),0,t.duration*u,t.timingFunction).on("playstart",function(e){t.onStart.call(r,e)}).on("step",function(e){t.onStep.call(r,e)}).on("playfinish",function(e){delete o.fade,n||r.setStyles({display:"none",opacity:s}),t.onFinish.call(r,e)});l.isFadeInMode=n,l.originalOpacity=s,l.percentageNeedsPlay=u,l.play()}return r},Element.prototype.smoothScroll=function(e,t,n){var r=this;n=Object.mixin({duration:200,timingFunction:"easeInOut",onStart:M,onStep:M,onFinish:M},n||{});var o=R(r),i=o.smoothScroll;i&&i.pause();var a=o.smoothScroll=(new v).addClip(v.createScrollRenderer(r,e,t),0,n.duration,n.timingFunction).on("playstart",function(e){n.onStart.call(r,e)}).on("step",function(e){n.onStep.call(r,e)}).on("playfinish",function(e){delete o.smoothScroll,n.onFinish.call(r,e)});return a.play(),r},Element.prototype.cancelAnimation=function(e){var t=this,n=R(t),r=e?e.split(L):null;return Object.forEach(n,function(e,o){if(null===r||r.contains(o))switch(e.pause(),delete n[o],o){case"morph":break;case"highlight":t.setStyle(e.property,e.originalColor);break;case"fade":t.setStyles({display:e.isFadeInMode?"block":"none",opacity:e.originalOpacity});break;case"smoothScroll":}}),t}}(window),function(e){var t=0,n=-498,r=-408,o=Date.now(),i=function(){},a=[];e.ActiveXObject&&e.on("unload",function(){a.forEach(function(e){e.abort()})});var s=function(){try{var t=e.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")}catch(e){throw new Error("Can not create XHR Object")}return t},u=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,l=function(e){for(var t,n={};t=u.exec(e);)n[t[1]]=t[2];return n},c=function(e){if(!e.sync&&Number.isFinite(e.minTime)){var n=e.minTime-(Date.now()-e.timestamp);if(n>0)return void(e.minTimeTimer=setTimeout(function(){f(e,t)},n))}f(e,t)},f=function(e,o){e.minTimeTimer&&(o=t,clearTimeout(e.minTimeTimer),delete e.minTimeTimer),e.maxTimeTimer&&(clearTimeout(e.maxTimeTimer),delete e.maxTimeTimer),e.ongoing=!1,delete e.timestamp;var s={status:0,statusText:""};switch(e.mode){case"xhr":s.headers={},s.text="",s.xml=null;var u=e.xhr;if(delete e.xhr,u.onreadystatechange=i,o===t)try{s.status=u.status,1223===s.status&&(s.status=204),s.statusText=u.statusText,s.headers=l(u.getAllResponseHeaders()),s.text=u.responseText,u.responseXML&&u.responseXML.documentElement&&(s.xml=u.responseXML)}catch(e){}else u.abort();a.remove(e);break;case"jsonp":if(s.data=null,o===t)s.status=t,s.statusText="OK",s.data=e.receivedData;else{var c=e.id;p[c]=function(){delete p[c]}}}switch(o){case t:e.fire("complete",s);break;case n:s.status=n,s.statusText="Aborted",e.fire("abort",s);break;case r:s.status=r,s.statusText="Timeout",e.fire("timeout",s)}e.fire("finish",s)},p=e.Request=function(e,t){switch(this.url=e,t=Object.mixin(Object.clone(p.options,!0),t||{}),t.mode=t.mode.toLowerCase()){case"xhr":t.method=t.method.toLowerCase(),t.contentType=t.contentType.toLowerCase(),Object.mixin(this,t,{whiteList:["mode","method","noCache","sync","minTime","maxTime","username","password","headers","contentType"]});break;case"jsonp":t.method="get",t.noCache=!0,t.sync=!1,Object.mixin(this,t,{whiteList:["mode","method","noCache","sync","minTime","maxTime","callbackName"]})}this.ongoing=!1,JSEventTarget.create(this)};p.options={mode:"xhr",method:"get",noCache:!1,sync:!1,minTime:NaN,maxTime:NaN,username:"",password:"",headers:{"X-Requested-With":"XMLHttpRequest",Accept:"*/*"},contentType:"application/x-www-form-urlencoded",callbackName:"callback"},p.prototype.send=function(e){var t=this;if(!t.ongoing){t.ongoing=!0,t.timestamp=Date.now();var n=t.url,i=t.method,u=!t.sync,l=void 0,d=null;if(e)switch(i){case"options":case"head":case"get":case"delete":n+=(n.contains("?")?"&":"?")+Object.toQueryString(e);break;case"post":case"put":case"patch":l=t.contentType,l.startsWith("application/x-www-form-urlencoded")?d=Object.toQueryString(e):l.startsWith("application/json")&&(d=JSON.stringify(e))}switch(t.fire("start"),t.mode){case"xhr":t.noCache&&(n+=(n.contains("?")?"&":"?")+"_="+(++o).toString(36));var h=t.xhr=s();h.open(i,n,u,t.username,t.password),Object.forEach(t.headers,function(e,t){h.setRequestHeader(t,e)}),l&&h.setRequestHeader("Content-Type",l),h.send(d),a.push(t),u&&4!==h.readyState?h.onreadystatechange=function(){4===h.readyState&&c(t)}:c(t);break;case"jsonp":var m="_"+(++o).toString(36);n+=(n.contains("?")?"&":"?")+t.callbackName+"=Request."+m,p[t.id=m]=function(e){delete p[m],t.receivedData=e,c(t)},document.loadScript(n)}return u&&Number.isFinite(t.maxTime)&&(t.maxTimeTimer=setTimeout(function(){f(t,r)},Math.max(0,t.maxTime))),!0}return!1},p.prototype.abort=function(){return!!this.ongoing&&(f(this,n),!0)}}(window),function(e){var t={},n=e.Widget={};n.register=function(e){e.styleRules&&document.addStyleRules(e.styleRules),t[e.type]={selector:e.selector,nodeName:e.selector.substring(0,e.selector.indexOf(".")).toUpperCase(),parse:function(t){e.config&&Object.forEach(e.config,function(e,n){var r=e,o=t.getData(n);if(null!==o)switch(typeof e){case"string":r=o;break;case"boolean":r=!0;break;case"number":r=parseFloat(o);break;default:throw new Error('Invalid config type "'+n+'"')}t[n]=r}),e.methods&&Object.mixin(t,e.methods),e.initialize&&e.initialize.call(t),t.widgetType=e.type}}};var r=/\bwidget-([a-z][a-z0-9-]*)\b/;n.parse=function(e,t){var o=document.$(e);if(!o.widgetType){var i=o.className.match(r);i&&n.parseAs(o,i[1])}t&&o.findAll("[class*=widget-]").forEach(function(e){n.parse(e)})},n.parseAs=function(e,n){var r=document.$(e),o=t[n];o&&o.parse?r.nodeName===o.nodeName?o.parse(r):console.warn('OurJS: Widget "'+n+'" can not be applied on '+r.nodeName+" elements."):console.warn('OurJS: Widget parser "'+n+'" is not found.')},document.on("beforedomready",function(){n.parse(document.body,!0)})}(window),function(e){function t(e){return e<10?"0"+e:e}function n(e){return u.lastIndex=0,u.test(e)?'"'+e.replace(u,function(e){var t=l[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function r(e,t){var s,u,l,c,f,p=o,d=t[e];switch(d&&"object"==typeof d&&"function"==typeof d.toJSON&&(d=d.toJSON(e)),"function"==typeof a&&(d=a.call(t,e,d)),typeof d){case"string":return n(d);case"number":return isFinite(d)?String(d):"null";case"boolean":case"null":return String(d);case"object":if(!d)return"null";if(o+=i,f=[],"[object Array]"===Object.prototype.toString.apply(d)){for(c=d.length,s=0;s<c;s+=1)f[s]=r(s,d)||"null";return l=0===f.length?"[]":o?"[\n"+o+f.join(",\n"+o)+"\n"+p+"]":"["+f.join(",")+"]",o=p,l}if(a&&"object"==typeof a)for(c=a.length,s=0;s<c;s+=1)"string"==typeof a[s]&&(u=a[s],l=r(u,d),l&&f.push(n(u)+(o?": ":":")+l));else for(u in d)Object.prototype.hasOwnProperty.call(d,u)&&(l=r(u,d),l&&f.push(n(u)+(o?": ":":")+l));return l=0===f.length?"{}":o?"{\n"+o+f.join(",\n"+o)+"\n"+p+"}":"{"+f.join(",")+"}",o=p,l}}e.JSON&&!navigator.isIE8||(e.JSON={toString:function(){return"[object JSON]"}}),"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(e){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+t(this.getUTCMonth()+1)+"-"+t(this.getUTCDate())+"T"+t(this.getUTCHours())+":"+t(this.getUTCMinutes())+":"+t(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Boolean.prototype.toJSON=Number.prototype.toJSON=function(e){return this.valueOf()});var o,i,a,s=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,u=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,l={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};"function"!=typeof JSON.stringify&&(JSON.stringify=function(e,t,n){var s;if(o="",i="","number"==typeof n)for(s=0;s<n;s+=1)i+=" ";else"string"==typeof n&&(i=n);if(a=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return r("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(t,n){function r(e,t){var o,i,a=e[t];if(a&&"object"==typeof a)for(o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i=r(a,o),void 0!==i?a[o]=i:delete a[o]);return n.call(e,t,a)}var o;if(t=String(t),s.lastIndex=0,s.test(t)&&(t=t.replace(s,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(t.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return o=e.eval("("+t+")"),"function"==typeof n?r({"":o},""):o;throw new SyntaxError("JSON.parse")})}(window),function(e){function t(e,t,n,r){var o,i,a,s,u,l,f,d,h,m;if((t?t.ownerDocument||t:H)!==I&&k(t),t=t||I,n=n||[],!e||"string"!=typeof e)return n;if(1!==(s=t.nodeType)&&9!==s)return[];if(j&&!r){if(o=ve.exec(e))if(a=o[1]){if(9===s){if(i=t.getElementById(a),!i||!i.parentNode)return n;if(i.id===a)return n.push(i),n}else if(t.ownerDocument&&(i=t.ownerDocument.getElementById(a))&&P(t,i)&&i.id===a)return n.push(i),n}else{if(o[2])return Q.apply(n,t.getElementsByTagName(e)),n;if((a=o[3])&&w.getElementsByClassName&&t.getElementsByClassName)return Q.apply(n,t.getElementsByClassName(a)),n}if(w.qsa&&(!L||!L.test(e))){if(d=f=_,h=t,m=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(l=x(e),(f=t.getAttribute("id"))?d=f.replace(Ee,"\\$&"):t.setAttribute("id",d),d="[id='"+d+"'] ",u=l.length;u--;)l[u]=d+p(l[u]);h=be.test(e)&&c(t.parentNode)||t,m=l.join(",")}if(m)try{return Q.apply(n,h.querySelectorAll(m)),n}catch(e){}finally{f||t.removeAttribute("id")}}}return A(e.replace(ue,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>S.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[_]=!0,e}function o(e){var t=I.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function i(e,t){for(var n=e.split("|"),r=e.length;r--;)S.attrHandle[n[r]]=t}function a(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||J)-(~e.sourceIndex||J);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function u(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function l(e){return r(function(t){return t=+t,r(function(n,r){for(var o,i=e([],n.length,t),a=i.length;a--;)n[o=i[a]]&&(n[o]=!(r[o]=n[o]))})})}function c(e){return e&&typeof e.getElementsByTagName!==W&&e}function f(){}function p(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function d(e,t,n){var r=t.dir,o=n&&"parentNode"===r,i=$++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||o)return e(t,n,i)}:function(t,n,a){var s,u,l=[Y,i];if(a){for(;t=t[r];)if((1===t.nodeType||o)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||o){if(u=t[_]||(t[_]={}),(s=u[r])&&s[0]===Y&&s[1]===i)return l[2]=s[2];if(u[r]=l,l[2]=e(t,n,a))return!0}}}function h(e){return e.length>1?function(t,n,r){for(var o=e.length;o--;)if(!e[o](t,n,r))return!1;return!0}:e[0]}function m(e,n,r){for(var o=0,i=n.length;o<i;o++)t(e,n[o],r);return r}function g(e,t,n,r,o){for(var i,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(i=e[s])&&(n&&!n(i,r,o)||(a.push(i),l&&t.push(s)));return a}function y(e,t,n,o,i,a){return o&&!o[_]&&(o=y(o)),i&&!i[_]&&(i=y(i,a)),r(function(r,a,s,u){var l,c,f,p=[],d=[],h=a.length,y=r||m(t||"*",s.nodeType?[s]:s,[]),v=!e||!r&&t?y:g(y,p,e,s,u),b=n?i||(r?e:h||o)?[]:a:v;if(n&&n(v,b,s,u),o)for(l=g(b,d),o(l,[],s,u),c=l.length;c--;)(f=l[c])&&(b[d[c]]=!(v[d[c]]=f));if(r){if(i||e){if(i){for(l=[],c=b.length;c--;)(f=b[c])&&l.push(v[c]=f);i(null,b=[],l,u)}for(c=b.length;c--;)(f=b[c])&&(l=i?te.call(r,f):p[c])>-1&&(r[l]=!(a[l]=f))}}else b=g(b===a?b.splice(h,b.length):b),i?i(null,a,b,u):Q.apply(a,b)})}function v(e){for(var t,n,r,o=e.length,i=S.relative[e[0].type],a=i||S.relative[" "],s=i?1:0,u=d(function(e){return e===t},a,!0),l=d(function(e){return te.call(t,e)>-1},a,!0),c=[function(e,n,r){return!i&&(r||n!==N)||((t=n).nodeType?u(e,n,r):l(e,n,r))}];s<o;s++)if(n=S.relative[e[s].type])c=[d(h(c),n)];else{if(n=S.filter[e[s].type].apply(null,e[s].matches),n[_]){for(r=++s;r<o&&!S.relative[e[r].type];r++);return y(s>1&&h(c),s>1&&p(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(ue,"$1"),n,s<r&&v(e.slice(s,r)),r<o&&v(e=e.slice(r)),r<o&&p(e))}c.push(n)}return h(c)}function b(e,n){var o=n.length>0,i=e.length>0,a=function(r,a,s,u,l){var c,f,p,d=0,h="0",m=r&&[],y=[],v=N,b=r||i&&S.find.TAG("*",l),E=Y+=null==v?1:Math.random()||.1,w=b.length;for(l&&(N=a!==I&&a);h!==w&&null!=(c=b[h]);h++){if(i&&c){for(f=0;p=e[f++];)if(p(c,a,s)){u.push(c);break}l&&(Y=E)}o&&((c=!p&&c)&&d--,r&&m.push(c))}if(d+=h,o&&h!==d){for(f=0;p=n[f++];)p(m,y,a,s);if(r){if(d>0)for(;h--;)m[h]||y[h]||(y[h]=K.call(u));y=g(y)}Q.apply(u,y),l&&!r&&y.length>0&&d+n.length>1&&t.uniqueSort(u)}return l&&(Y=E,N=v),m};return o?r(a):a}var E,w,S,C,F,x,T,A,N,D,O,k,I,B,j,L,M,R,P,_="sizzle"+-new Date,H=e.document,Y=0,$=0,z=n(),X=n(),q=n(),V=function(e,t){return e===t&&(O=!0),0},W="undefined",J=1<<31,U={}.hasOwnProperty,Z=[],K=Z.pop,G=Z.push,Q=Z.push,ee=Z.slice,te=Z.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]===e)return t;return-1},ne="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",re="[\\x20\\t\\r\\n\\f]",oe="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ie=oe.replace("w","w#"),ae="\\["+re+"*("+oe+")(?:"+re+"*([*^$|!~]?=)"+re+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ie+"))|)"+re+"*\\]",se=":("+oe+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ae+")*)|.*)\\)|)",ue=new RegExp("^"+re+"+|((?:^|[^\\\\])(?:\\\\.)*)"+re+"+$","g"),le=new RegExp("^"+re+"*,"+re+"*"),ce=new RegExp("^"+re+"*([>+~]|"+re+")"+re+"*"),fe=new RegExp("="+re+"*([^\\]'\"]*?)"+re+"*\\]","g"),pe=new RegExp(se),de=new RegExp("^"+ie+"$"),he={ID:new RegExp("^#("+oe+")"),CLASS:new RegExp("^\\.("+oe+")"),TAG:new RegExp("^("+oe.replace("w","w*")+")"),ATTR:new RegExp("^"+ae),PSEUDO:new RegExp("^"+se),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+re+"*(even|odd|(([+-]|)(\\d*)n|)"+re+"*(?:([+-]|)"+re+"*(\\d+)|))"+re+"*\\)|)","i"),bool:new RegExp("^(?:"+ne+")$","i"),needsContext:new RegExp("^"+re+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+re+"*((?:-\\d)?\\d*)"+re+"*\\)|)(?=[^-]|$)","i")},me=/^(?:input|select|textarea|button)$/i,ge=/^h\d$/i,ye=/^[^{]+\{\s*\[native \w/,ve=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,be=/[+~]/,Ee=/'|\\/g,we=new RegExp("\\\\([\\da-f]{1,6}"+re+"?|("+re+")|.)","ig"),Se=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)};try{Q.apply(Z=ee.call(H.childNodes),H.childNodes),Z[H.childNodes.length].nodeType}catch(e){Q={apply:Z.length?function(e,t){G.apply(e,ee.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}w=t.support={},F=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},k=t.setDocument=function(e){var t,n=e?e.ownerDocument||e:H,r=n.defaultView;return n!==I&&9===n.nodeType&&n.documentElement?(I=n,B=n.documentElement,j=!F(n),r&&r!==r.top&&(r.addEventListener?r.addEventListener("unload",function(){k()},!1):r.attachEvent&&r.attachEvent("onunload",function(){k()})),w.attributes=o(function(e){return e.className="i",!e.getAttribute("className")}),w.getElementsByTagName=o(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),w.getElementsByClassName=ye.test(n.getElementsByClassName)&&o(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),w.getById=o(function(e){return B.appendChild(e).id=_,!n.getElementsByName||!n.getElementsByName(_).length}),w.getById?(S.find.ID=function(e,t){if(typeof t.getElementById!==W&&j){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},S.filter.ID=function(e){var t=e.replace(we,Se);return function(e){return e.getAttribute("id")===t}}):(delete S.find.ID,S.filter.ID=function(e){var t=e.replace(we,Se);return function(e){var n=typeof e.getAttributeNode!==W&&e.getAttributeNode("id");return n&&n.value===t}}),S.find.TAG=w.getElementsByTagName?function(e,t){if(typeof t.getElementsByTagName!==W)return t.getElementsByTagName(e)}:function(e,t){var n,r=[],o=0,i=t.getElementsByTagName(e);if("*"===e){for(;n=i[o++];)1===n.nodeType&&r.push(n);return r}return i},S.find.CLASS=w.getElementsByClassName&&function(e,t){if(typeof t.getElementsByClassName!==W&&j)return t.getElementsByClassName(e)},M=[],L=[],(w.qsa=ye.test(n.querySelectorAll))&&(o(function(e){e.innerHTML="<select msallowclip=''><option selected=''></option></select>",e.querySelectorAll("[msallowclip^='']").length&&L.push("[*^$]="+re+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||L.push("\\["+re+"*(?:value|"+ne+")"),e.querySelectorAll(":checked").length||L.push(":checked")}),o(function(e){var t=n.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&L.push("name"+re+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||L.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),L.push(",.*:")})),(w.matchesSelector=ye.test(R=B.matches||B.webkitMatchesSelector||B.mozMatchesSelector||B.oMatchesSelector||B.msMatchesSelector))&&o(function(e){w.disconnectedMatch=R.call(e,"div"),R.call(e,"[s!='']:x"),M.push("!=",se)}),L=L.length&&new RegExp(L.join("|")),M=M.length&&new RegExp(M.join("|")),t=ye.test(B.compareDocumentPosition),P=t||ye.test(B.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)));
}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},V=t?function(e,t){if(e===t)return O=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r?r:(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&r||!w.sortDetached&&t.compareDocumentPosition(e)===r?e===n||e.ownerDocument===H&&P(H,e)?-1:t===n||t.ownerDocument===H&&P(H,t)?1:D?te.call(D,e)-te.call(D,t):0:4&r?-1:1)}:function(e,t){if(e===t)return O=!0,0;var r,o=0,i=e.parentNode,s=t.parentNode,u=[e],l=[t];if(!i||!s)return e===n?-1:t===n?1:i?-1:s?1:D?te.call(D,e)-te.call(D,t):0;if(i===s)return a(e,t);for(r=e;r=r.parentNode;)u.unshift(r);for(r=t;r=r.parentNode;)l.unshift(r);for(;u[o]===l[o];)o++;return o?a(u[o],l[o]):u[o]===H?-1:l[o]===H?1:0},n):I},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==I&&k(e),n=n.replace(fe,"='$1']"),w.matchesSelector&&j&&(!M||!M.test(n))&&(!L||!L.test(n)))try{var r=R.call(e,n);if(r||w.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return t(n,I,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==I&&k(e),P(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==I&&k(e);var n=S.attrHandle[t.toLowerCase()],r=n&&U.call(S.attrHandle,t.toLowerCase())?n(e,t,!j):void 0;return void 0!==r?r:w.attributes||!j?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,o=0;if(O=!w.detectDuplicates,D=!w.sortStable&&e.slice(0),e.sort(V),O){for(;t=e[o++];)t===e[o]&&(r=n.push(o));for(;r--;)e.splice(n[r],1)}return D=null,e},C=t.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=C(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=C(t);return n},S=t.selectors={cacheLength:50,createPseudo:r,match:he,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(we,Se),e[3]=(e[3]||e[4]||e[5]||"").replace(we,Se),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return he.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&pe.test(n)&&(t=x(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(we,Se).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=z[e+" "];return t||(t=new RegExp("(^|"+re+")"+e+"("+re+"|$)"))&&z(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==W&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(o){var i=t.attr(o,e);return null==i?"!="===n:!n||(i+="","="===n?i===r:"!="===n?i!==r:"^="===n?r&&0===i.indexOf(r):"*="===n?r&&i.indexOf(r)>-1:"$="===n?r&&i.slice(-r.length)===r:"~="===n?(" "+i+" ").indexOf(r)>-1:"|="===n&&(i===r||i.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,n,r,o){var i="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===o?function(e){return!!e.parentNode}:function(t,n,u){var l,c,f,p,d,h,m=i!==a?"nextSibling":"previousSibling",g=t.parentNode,y=s&&t.nodeName.toLowerCase(),v=!u&&!s;if(g){if(i){for(;m;){for(f=t;f=f[m];)if(s?f.nodeName.toLowerCase()===y:1===f.nodeType)return!1;h=m="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?g.firstChild:g.lastChild],a&&v){for(c=g[_]||(g[_]={}),l=c[e]||[],d=l[0]===Y&&l[1],p=l[0]===Y&&l[2],f=d&&g.childNodes[d];f=++d&&f&&f[m]||(p=d=0)||h.pop();)if(1===f.nodeType&&++p&&f===t){c[e]=[Y,d,p];break}}else if(v&&(l=(t[_]||(t[_]={}))[e])&&l[0]===Y)p=l[1];else for(;(f=++d&&f&&f[m]||(p=d=0)||h.pop())&&((s?f.nodeName.toLowerCase()!==y:1!==f.nodeType)||!++p||(v&&((f[_]||(f[_]={}))[e]=[Y,p]),f!==t)););return p-=o,p===r||p%r===0&&p/r>=0}}},PSEUDO:function(e,n){var o,i=S.pseudos[e]||S.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return i[_]?i(n):i.length>1?(o=[e,e,"",n],S.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,o=i(e,n),a=o.length;a--;)r=te.call(e,o[a]),e[r]=!(t[r]=o[a])}):function(e){return i(e,0,o)}):i}},pseudos:{not:r(function(e){var t=[],n=[],o=T(e.replace(ue,"$1"));return o[_]?r(function(e,t,n,r){for(var i,a=o(e,null,r,[]),s=e.length;s--;)(i=a[s])&&(e[s]=!(t[s]=i))}):function(e,r,i){return t[0]=e,o(t,null,i,n),!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return function(t){return(t.textContent||t.innerText||C(t)).indexOf(e)>-1}}),lang:r(function(e){return de.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(we,Se).toLowerCase(),function(t){var n;do if(n=j?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===B},focus:function(e){return e===I.activeElement&&(!I.hasFocus||I.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!S.pseudos.empty(e)},header:function(e){return ge.test(e.nodeName)},input:function(e){return me.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:l(function(){return[0]}),last:l(function(e,t){return[t-1]}),eq:l(function(e,t,n){return[n<0?n+t:n]}),even:l(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:l(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:l(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:l(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}},S.pseudos.nth=S.pseudos.eq;for(E in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})S.pseudos[E]=s(E);for(E in{submit:!0,reset:!0})S.pseudos[E]=u(E);f.prototype=S.filters=S.pseudos,S.setFilters=new f,x=t.tokenize=function(e,n){var r,o,i,a,s,u,l,c=X[e+" "];if(c)return n?0:c.slice(0);for(s=e,u=[],l=S.preFilter;s;){r&&!(o=le.exec(s))||(o&&(s=s.slice(o[0].length)||s),u.push(i=[])),r=!1,(o=ce.exec(s))&&(r=o.shift(),i.push({value:r,type:o[0].replace(ue," ")}),s=s.slice(r.length));for(a in S.filter)!(o=he[a].exec(s))||l[a]&&!(o=l[a](o))||(r=o.shift(),i.push({value:r,type:a,matches:o}),s=s.slice(r.length));if(!r)break}return n?s.length:s?t.error(e):X(e,u).slice(0)},T=t.compile=function(e,t){var n,r=[],o=[],i=q[e+" "];if(!i){for(t||(t=x(e)),n=t.length;n--;)i=v(t[n]),i[_]?r.push(i):o.push(i);i=q(e,b(o,r)),i.selector=e}return i},A=t.select=function(e,t,n,r){var o,i,a,s,u,l="function"==typeof e&&e,f=!r&&x(e=l.selector||e);if(n=n||[],1===f.length){if(i=f[0]=f[0].slice(0),i.length>2&&"ID"===(a=i[0]).type&&w.getById&&9===t.nodeType&&j&&S.relative[i[1].type]){if(t=(S.find.ID(a.matches[0].replace(we,Se),t)||[])[0],!t)return n;l&&(t=t.parentNode),e=e.slice(i.shift().value.length)}for(o=he.needsContext.test(e)?0:i.length;o--&&(a=i[o],!S.relative[s=a.type]);)if((u=S.find[s])&&(r=u(a.matches[0].replace(we,Se),be.test(i[0].type)&&c(t.parentNode)||t))){if(i.splice(o,1),e=r.length&&p(i),!e)return Q.apply(n,r),n;break}}return(l||T(e,f))(r,t,!j,n,be.test(e)&&c(t.parentNode)||t),n},w.sortStable=_.split("").sort(V).join("")===_,w.detectDuplicates=!!O,k(),w.sortDetached=o(function(e){return 1&e.compareDocumentPosition(I.createElement("div"))}),o(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||i("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),w.attributes&&o(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||i("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),o(function(e){return null==e.getAttribute("disabled")})||i(ne,function(e,t,n){var r;if(!n)return e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),"function"==typeof define&&define.amd?define(function(){return t}):"undefined"!=typeof module&&module.exports?module.exports=t:e.Sizzle=t}(window);




/*重写ajax 请求，对cors 跨域统一处理*/
(function(window) {
    // 请求状态。
    var COMPLETE = 0;
    var ABORT = -498;
    var TIMEOUT = -408;

    // 唯一识别码。
    var uid = Date.now();

    // 空函数。
    var empty = function() {
    };

    // 正在请求中的 XHR 模式的 request 对象。
    // http://bugs.jquery.com/ticket/5280
    var activeXHRModeRequests = [];
    if (window.ActiveXObject) {
        window.on('unload', function() {
            activeXHRModeRequests.forEach(function(request) {
                request.abort();
            });
        });
    }

    // 获取 XHR 对象。
    var getXHRObject = function() {
        try {
            var xhr = window.XMLHttpRequest ? new XMLHttpRequest() : new ActiveXObject('Microsoft.XMLHTTP');
        } catch (e) {
            throw new Error('Can not create XHR Object');
        }
        return xhr;
    };

    // 获取响应头信息。
    var reHeaders = /^(.*?):[ \t]*([^\r\n]*)\r?$/mg;
    var parseXHRHeaders = function(rawHeaders) {
        var headers = {};
        var match;
        while (match = reHeaders.exec(rawHeaders)) {
            headers[match[1]] = match[2];
        }
        return headers;
    };

    // 数据传输已完成，应用最短时间设置。
    var transferComplete = function(request) {
        if (!request.sync && Number.isFinite(request.minTime)) {
            var delayTime = request.minTime - (Date.now() - request.timestamp);
            if (delayTime > 0) {
                request.minTimeTimer = setTimeout(function() {
                    requestComplete(request, COMPLETE);
                }, delayTime);
                return;
            }
        }
        requestComplete(request, COMPLETE);
    };

    // 请求已完成，state 可能是 COMPLETE、ABORT 或 TIMEOUT。
    var requestComplete = function(request, state) {
        // 取消最短时间设置。
        if (request.minTimeTimer) {
            // 本次请求已经完成，但可能在等待过程中调用 abort 方法或设置了更短的 maxTime，导致 state 为 ABORT 或 TIMEOUT，所以要把 state 重置为 COMPLETE。
            state = COMPLETE;
            clearTimeout(request.minTimeTimer);
            delete request.minTimeTimer;
        }
        // 取消超时时间设置。
        if (request.maxTimeTimer) {
            clearTimeout(request.maxTimeTimer);
            delete request.maxTimeTimer;
        }
        // 重置请求状态。
        request.ongoing = false;
        delete request.timestamp;
        // 分析结果。
        var responseData = {
            status: 0,
            statusText: ''
        };
        switch (request.mode) {
            case 'xhr':
                responseData.headers = {};
                responseData.text = '';
                responseData.xml = null;
                // 清理 XHR 请求的状态。
                var xhr = request.xhr;
                delete request.xhr;
                xhr.onreadystatechange = empty;
                if (state === COMPLETE) {
                    console.log(responseData)
                    // 请求已完成，获取数据。
                    // http://helpful.knobs-dials.com/index.php/Component_returned_failure_code:_0x80040111_(NS_ERROR_NOT_AVAILABLE)
                    try {
                        responseData.status = xhr.status;
                        // http://bugs.jquery.com/ticket/1450
                        if (responseData.status === 1223) {
                            responseData.status = 204;
                        }
                        responseData.statusText = xhr.statusText;
                        responseData.headers = parseXHRHeaders(xhr.getAllResponseHeaders());
                        responseData.text = xhr.responseText;
                        // http://bugs.jquery.com/ticket/4958
                        if (xhr.responseXML && xhr.responseXML.documentElement) {
                            responseData.xml = xhr.responseXML;
                        }
                    } catch (e) {
                    }
                } else {
                    // 请求被取消或超时，取消本次 XHR 请求。
                    xhr.abort();
                }
                activeXHRModeRequests.remove(request);
                break;
            case 'jsonp':
                responseData.data = null;
                if (state === COMPLETE) {
                    // 请求已完成，获取数据。
                    responseData.status = COMPLETE;
                    responseData.statusText = 'OK';
                    responseData.data = request.receivedData;
                } else {
                    // 请求被取消或超时，取消本次 JSONP 回调的响应。
                    var requestId = request.id;
                    Request[requestId] = function() {
                        delete Request[requestId];
                    };
                }
                break;
        }
        // 触发事件。
        switch (state) {
            case COMPLETE:
                request.fire('complete', responseData);
                break;
            case ABORT:
                responseData.status = ABORT;
                responseData.statusText = 'Aborted';
                request.fire('abort', responseData);
                break;
            case TIMEOUT:
                responseData.status = TIMEOUT;
                responseData.statusText = 'Timeout';
                request.fire('timeout', responseData);
                break;
        }
        request.fire('finish', responseData);
    };

//--------------------------------------------------[Request]
    var Request = window.Request = function(url, options) {
        // 保存请求地址。
        this.url = url;
        // 保存选项数据。
        options = Object.mixin(Object.clone(Request.options, true), options || {});
        switch (options.mode = options.mode.toLowerCase()) {
            case 'xhr':
                options.method = options.method.toLowerCase();
                Object.mixin(this, options, {whiteList: ['mode', 'method', 'withCredentials','noCache', 'sync', 'minTime', 'maxTime', 'username', 'password', 'headers', 'contentType']});
                break;
            case 'jsonp':
                options.method = 'get';
                options.noCache = true;
                options.sync = false;
                Object.mixin(this, options, {whiteList: ['mode', 'method', 'noCache', 'sync', 'minTime', 'maxTime', 'callbackName']});
                break;
        }
        this.ongoing = false;
        JSEventTarget.create(this);
    };

//--------------------------------------------------[Request.options]
    Request.options = {
        mode: 'xhr',
        method: 'get',
        withCredentials:true,
        noCache: false,
        sync: false,
        minTime: NaN,
        maxTime: NaN,
        username: '',
        password: '',
        headers: {
            'X-Requested-With': 'XMLHttpRequest',
            'Accept': '*/*'
        },
        contentType: 'application/x-www-form-urlencoded',
        callbackName: 'callback'
    };

//--------------------------------------------------[Request.prototype.send]
    Request.prototype.send = function(requestData) {
        var request = this;
        // 如果请求正在进行中，则需等待此次请求完成后才能再次发起请求（若设置了 minTime 则请求完成的时间可能比交互完成的时间长）。
        if (!request.ongoing) {
            // 请求开始进行。
            request.ongoing = true;
            request.timestamp = Date.now();
            // 触发 start 事件。
            request.fire('start');
            // 序列化请求数据。如果请求数据为空，则统一使用 null 表示。
            requestData = requestData ? Object.toQueryString(requestData) : null;
            // 发送 XHR 或 JSONP 模式的请求。
            var url = request.url;
            var method = request.method;
            if (method === 'get' && requestData) {
                url += (url.contains('?') ? '&' : '?') + requestData;
                requestData = null;
            }
            var inSync = request.sync;
            switch (request.mode) {
                case 'xhr':
                    if (request.noCache) {
                        url += (url.contains('?') ? '&' : '?') + '_=' + (++uid).toString(36);
                    }
                    var xhr = request.xhr = getXHRObject();
                    // 准备请求。
                    if (request.username) {
                        xhr.open(method, url, !inSync, request.username, request.password);
                    } else {
                        xhr.open(method, url, !inSync);
                    }
                    // 设置请求头。
                    if (request.withCredentials) {
                        xhr.withCredentials = true
                    } else {
                        Object.forEach(request.headers, function (value, key) {
                            xhr.setRequestHeader(key, value);
                        });
                    }
                    if (method === 'post') {
                        xhr.setRequestHeader('Content-Type', request.contentType);
                    }
                    // 发送请求。
                    xhr.send(requestData);
                    activeXHRModeRequests.push(request);
                    // 检查请求状态。
                    if (inSync || xhr.readyState === 4) {
                        // IE 使用 ActiveXObject 创建的 XHR 对象即便在异步模式下，如果访问地址已被浏览器缓存，将直接改变 readyState 为 4，并且不会触发 onreadystatechange 事件。
                        transferComplete(request);
                    } else {
                        xhr.onreadystatechange = function() {
                            if (xhr.readyState === 4) {
                                transferComplete(request);
                            }
                        };
                    }
                    break;
                case 'jsonp':
                    var requestId = '_' + (++uid).toString(36);
                    url += (url.contains('?') ? '&' : '?') + request.callbackName + '=Request.' + requestId;
                    // 准备回调函数。
                    Request[request.id = requestId] = function(data) {
                        delete Request[requestId];
                        request.receivedData = data;
                        transferComplete(request);
                    };
                    // 发送请求。
                    document.loadScript(url);
                    break;
            }
            // 超时时间设置。
            if (!inSync && Number.isFinite(request.maxTime)) {
                request.maxTimeTimer = setTimeout(function() {
                    requestComplete(request, TIMEOUT);
                }, Math.max(0, request.maxTime));
            }
            return true;
        }
        return false;
    };

//--------------------------------------------------[Request.prototype.abort]
    Request.prototype.abort = function() {
        if (this.ongoing) {
            requestComplete(this, ABORT);
            return true;
        }
        return false;
    };

})(window);
